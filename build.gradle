repositories {
    mavenCentral()
}

buildscript {
    repositories {
        jcenter()
    }
    dependencies {
        classpath 'com.github.jengelman.gradle.plugins:shadow:4.0.3'
    }
}

apply plugin: 'java'
apply plugin: 'com.github.johnrengelman.shadow'

version = '0.1.0'

ext {
    slf4jVersion = '1.7.26'
    projectLombokVersion = '1.16.20'
    jettyVersion = '9.4.36.v20210114'
    junitVersion = '4.13'
}

dependencies {
    compile "org.apache.commons:commons-lang3:3.8.1"
    compile "org.slf4j:slf4j-api:$slf4jVersion"
    runtime "org.slf4j:slf4j-simple:$slf4jVersion"
    compile "org.projectlombok:lombok:$projectLombokVersion"

    compile "io.prometheus:simpleclient:0.11.0"
    compile 'io.prometheus:simpleclient_hotspot:0.11.0'
    compile "io.prometheus:simpleclient_servlet:0.11.0"

    // dropwizard metrics
    compile group: 'io.prometheus', name: 'simpleclient_dropwizard', version: '0.11.0'

    compile "org.eclipse.jetty:jetty-servlet:$jettyVersion"

    testCompile group: 'junit', name: 'junit', version: junitVersion
}

test {
    testLogging {
        showStandardStreams = true
    }
}

jar {
    manifest {
        attributes "Main-Class": "com.company.Main"
    }
}

